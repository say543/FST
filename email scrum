search gold 的兩個scrum
//depot/deploy/builds/data/answers/QasIpe01Ds/... //DESKTOP-3J7614O-searchgold-2/deploy/builds/data/answers/QasIpe01Ds/...
//depot/deploy/builds/data/answers/QAS12HttpQAS/... //DESKTOP-3J7614O-searchgold-2/deploy/builds/data/answers/QAS12HttpQAS/...


michael example 
QcsQueryLabelWithLes.exe -c D:\SearchGold\deploy\builds\data\Answers\QasIpe01Ds --variant Prod.email_enus_MV1  --verbose --legacyAllowUnusedParameters -dl email --encoding utf-8 --interactive --externalFeaturesColumn 2,9,16,23 --queryInColumn 1

change to meet old 我們舊的方式
其中一個column
.\QCSQueryLabelWithLES.exe --externalFeaturesColumn 2,9,16,23 --queryInColumn 1 --interactive --verbose --encoding utf-8 --legacyAllowUnusedParameters -c E:\SearchGold\deploy\builds\data\answers\QasIpe01Ds  --variant Prod.email_enus_MV1 -dl email

prod.email_enus_mv1
這個是ini 的name

<temporary problem>
06262091
p.s 目前只能用QAS12HttpQAS, not QasIpe01Ds
p.s model file 要用這個 email_enus_MV1
.\QCSQueryLabelWithLES.exe --externalFeaturesColumn 2,9,16,23 --queryInColumn 1 --interactive --verbose --encoding utf-8 --legacyAllowUnusedParameters -c E:\SearchGold\deploy\builds\data\answers\QAS12HttpQAS  --variant email_enus_MV1 -dl email


email 的bing intent
carina bing intent

可以測production 的environment
p.s 這個email thread 有簡單的教學 for bing intent
RE: Regression: LU no longer returning PersonalMediaTitle information for Speaker queries (Desktop/Xbox work fine)

carina/binginent 
https://carina/bingintent
選Bed
exg: HttpQAS-Prod
virtual service 
CortanaLU
data set 選我們自己的column
QAS12HttpQAS
client
Microsoft_Threshold_Shell_3_enus_CortanaSDK

怎麼multi turn result 不太確定  之後看




========================
multi -turn query test
https://msasg.visualstudio.com/Cortana/_workitems/edit/1863645
========================

flag conversations\tPreviousTurnIntent\t0\t1\tsearch_email\t1.0\t-1\t-1\tPreviousTurnDomain\t0\t1\temail\t1.0\t-1\t-1

參照這個flag single 的output flag 因該是要message type
flag conversation\tPreviousTurnIntent\t0\t1\tsearch_email\t1.0\t-1\t-1\tPreviousTurnDomain\t0\t1\temail\t1.0\t-1\t-1

PreviousTurnIntent 
0

1
number of string features
1代表後面0[-1,-1]
0 : wegiht
[-1 , -1] index


加上
ClientContext_ReferenceTime
2019-06-26T16:20:27
Delete
PreviousTurnIntent
search_email
Delete

PreviousTurnDomain

email
Delete


[qd_cortana_email_enus_MV1_slots_lccrf_featurizer]
qd_cortana_email_enus_MV1_slots_partial_pattern_featurizer
qd_cortana_email_enus_MV1_slots_pattern_featurizer
qd_cortana_email_enus_MV1_slots_pattern_override_featurizer
qd_cortana_email_enus_MV1_slots_pattern_restore_featurizer
沒tag 正確slot


[qd_cortana_email_enus_MV1_slots_hotfix_featurizer]
出現21
用到hotfix
cortana_email_enus_MV1.slots.hotfix.txt


based on format
https://microsoft.sharepoint.com/teams/LUforNextgenAgents/_layouts/15/WopiFrame.aspx?sourcedoc={68deb809-671e-469a-be79-ba53c05298ce}&action=edit&wd=target%28CLU%20DRI.one%7C1990f4e6-5d06-4429-8ee9-ba6b20b33107%2FExact%20match%20hotfix%20file%20format%7Ce81245d4-55ea-458a-aaf1-036d8c0817f5%2F%29

flag conversation	cortana_email_enus_MV1_slots_hotfix	
(#number of kokens, 0)
2	0	
(#slotid #weight #token_index  #token_index)
0	1	0	0	21	1	1	1

根據cortana_email_enus_MV1.slots.entities.Config
(用在 qd_cortana_email_enus_MV1_slots_queryparser 的slot 的最後一個)
21 就是message type



[qd_email_mapIntentAndSlots_featurizer]
用到file
email.slots.mapping_to.20180702.txt
21 還是到21

[qd_email_slots_featurizer]
有multi turn logic  by comment
但是21還是21

[qd_email_slots_hotfix_featurizer]
qd_email_slots_partial_pattern_featurizer
qd_email_slots_pattern_override_featurizer
qd_email_slots_pattern_restore_featurizer
qd_email_slots_query_hotfix_override_featurizer
qd_email_mapIntentAndSlotsBack_featurizer
還是21 沒有改變
這妹

[qd_email_slots_partial_pattern_featurizer]

[featurizer3011 = qd_email_slots_partial_pattern_featurizer]

21
from ExternalInput2 
from  email:email_slots_hotfix:ExternalInput2  [qd_email_slots_hotfix_featurizer]








